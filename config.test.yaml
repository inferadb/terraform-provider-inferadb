# InferaDB Control Configuration - Terraform Provider Acceptance Tests
# This configuration is optimized for automated testing

control:
  frontend:
    url: "http://localhost:9090"

  listen:
    http: "0.0.0.0:9090"
    grpc: "0.0.0.0:9091"
    mesh: "0.0.0.0:9092"

  storage: "foundationdb"

  foundationdb:
    cluster_file: "/var/fdb/fdb.cluster"

  webauthn:
    party: "localhost"
    origin: "http://localhost:9090"

  key_file: "/tmp/test-master.key"

  email:
    host: "mailhog"
    port: 1025
    address: "test@inferadb.local"
    name: "InferaDB Test"
    insecure: true  # Use plain SMTP without TLS (for MailHog)

  # Relaxed rate limits for testing
  limits:
    login_attempts_per_ip_per_hour: 10000
    registrations_per_ip_per_day: 10000
    email_verification_tokens_per_hour: 10000
    password_reset_tokens_per_hour: 10000

  mesh:
    url: "http://inferadb-engine.inferadb"
    grpc: 8081
    port: 8082

  webhook:
    timeout: 5000
    retries: 0

  discovery:
    mode:
      type: none
    cache_ttl: 30
